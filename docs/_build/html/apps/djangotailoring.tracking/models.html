
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>djangotailoring.tracking.models &mdash; djangotailoring v0.5 documentation</title>
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="djangotailoring v0.5 documentation" href="../../index.html" />
    <link rel="up" title="djangotailoring.tracking" href="index.html" />
    <link rel="next" title="djangotailoring.tracking.eventnames" href="eventnames.html" />
    <link rel="prev" title="djangotailoring.tracking" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="eventnames.html" title="djangotailoring.tracking.eventnames"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="djangotailoring.tracking"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">djangotailoring v0.5 documentation</a> &raquo;</li>
          <li><a href="../index.html" >The <tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">djangotailoring</span></tt> Applications</a> &raquo;</li>
          <li><a href="index.html" accesskey="U"><tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">djangotailoring.tracking</span></tt></a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-djangotailoring.tracking.models">
<span id="djangotailoring-tracking-models"></span><h1><tt class="docutils literal"><span class="pre">djangotailoring.tracking.models</span></tt><a class="headerlink" href="#module-djangotailoring.tracking.models" title="Permalink to this headline">¶</a></h1>
<p>The heart of the <tt class="docutils literal"><span class="pre">djangotailoring.tracking</span></tt> application is here: the
<a class="reference internal" href="#djangotailoring.tracking.models.Event" title="djangotailoring.tracking.models.Event"><tt class="xref py py-class docutils literal"><span class="pre">Event</span></tt></a> class. Nearly all operations involve this model in
one way or another. While you may create an <a class="reference internal" href="#djangotailoring.tracking.models.Event" title="djangotailoring.tracking.models.Event"><tt class="xref py py-class docutils literal"><span class="pre">Event</span></tt></a> using the usual
methods, consider using the <a class="reference internal" href="index.html#djangotailoring.tracking.create_event" title="djangotailoring.tracking.create_event"><tt class="xref py py-func docutils literal"><span class="pre">djangotailoring.tracking.create_event()</span></tt></a>
function for convenience.</p>
<div class="section" id="models">
<h2>Models<a class="headerlink" href="#models" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="djangotailoring.tracking.models.Event">
<em class="property">class </em><tt class="descclassname">djangotailoring.tracking.models.</tt><tt class="descname">Event</tt><a class="headerlink" href="#djangotailoring.tracking.models.Event" title="Permalink to this definition">¶</a></dt>
<dd><p>A Django model object that represents a single, named historical event.
Events can be directly related to <tt class="xref py py-mod docutils literal"><span class="pre">django.contrib.auth</span></tt> User objects,
and generically related to any other model object. Additionally, there is a
255 character note field for storing any additional contextual information
necessary.</p>
<p>When querying, there is a default ordering, which is most recent events
first.</p>
<dl class="attribute">
<dt id="djangotailoring.tracking.models.Event.user">
<tt class="descname">user</tt><a class="headerlink" href="#djangotailoring.tracking.models.Event.user" title="Permalink to this definition">¶</a></dt>
<dd><p>A foreign key relation to <tt class="xref py py-class docutils literal"><span class="pre">django.contrib.auth.models.User</span></tt>. This
is nullable, for events unrelated to any user. The default is <tt class="xref docutils literal"><span class="pre">None</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="djangotailoring.tracking.models.Event.name">
<tt class="descname">name</tt><a class="headerlink" href="#djangotailoring.tracking.models.Event.name" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>required</strong> A 100 character long string identifying the type of event
occurrence. While there are some preset names, there is no requirement
that any pattern or convention is followed.</p>
</dd></dl>

<dl class="attribute">
<dt id="djangotailoring.tracking.models.Event.timestamp">
<tt class="descname">timestamp</tt><a class="headerlink" href="#djangotailoring.tracking.models.Event.timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>A datetime object defining when the event occurred. By default, it is set
to the database creation time of the event.</p>
</dd></dl>

<dl class="attribute">
<dt id="djangotailoring.tracking.models.Event.note">
<tt class="descname">note</tt><a class="headerlink" href="#djangotailoring.tracking.models.Event.note" title="Permalink to this definition">¶</a></dt>
<dd><p>A 255 character long string containing any information. There are no
restrictions on content other than length. The default is the empty
string.</p>
</dd></dl>

<dl class="attribute">
<dt id="djangotailoring.tracking.models.Event.related_object">
<tt class="descname">related_object</tt><a class="headerlink" href="#djangotailoring.tracking.models.Event.related_object" title="Permalink to this definition">¶</a></dt>
<dd><p>A <tt class="xref py py-class docutils literal"><span class="pre">django.contrib.contenttypes.generic.GenericForeignKey</span></tt>
referencing another model object. This field is nullable. A related object
can be anything that you wish to associate with an event, whether it be
an additional User object, or a particular
<a class="reference internal" href="../djangotailoring/models.html#djangotailoring.models.SubjectData" title="djangotailoring.models.SubjectData"><tt class="xref py py-class docutils literal"><span class="pre">djangotailoring.models.SubjectData</span></tt></a> instance. Anything.</p>
</dd></dl>

<dl class="classmethod">
<dt id="djangotailoring.tracking.models.Event.events_related_to">
<em class="property">classmethod </em><tt class="descname">events_related_to</tt><big>(</big><em>cls</em>, <em>related_object</em><big>)</big><a class="headerlink" href="#djangotailoring.tracking.models.Event.events_related_to" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>related_object</strong> &#8211; any Django Model instance</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">a QuerySet of Events</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">all events referencing related_object</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This method works well, but may be more idiomatic if it were handled by
a custom Manager class. Also, if this is a frequent action on a
particular Model type, consider using
<tt class="xref py py-class docutils literal"><span class="pre">django.contrib.contenttypes.generic.GenericRelation</span></tt> on that
Model class.</p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="events-and-logging">
<h2>Events and Logging<a class="headerlink" href="#events-and-logging" title="Permalink to this headline">¶</a></h2>
<p>Since events can be thought of as persisted, queryable logging statements, all
events are automatically logged using the python logging library.</p>
<p>The logger name is <tt class="docutils literal"><span class="pre">djangotailoring.tracking.events</span></tt>. All events are logged
at the INFO level.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">An additional feature of the event logging is that if an <a class="reference internal" href="#djangotailoring.tracking.models.Event" title="djangotailoring.tracking.models.Event"><tt class="xref py py-class docutils literal"><span class="pre">Event</span></tt></a> is
saved with a <tt class="xref py py-attr docutils literal"><span class="pre">request</span></tt> attribute, that <tt class="docutils literal"><span class="pre">request</span></tt> is available in the
<tt class="docutils literal"><span class="pre">extras</span></tt> dictionary attached to the <tt class="xref py py-class docutils literal"><span class="pre">LogRecord</span></tt>. The <tt class="docutils literal"><span class="pre">request</span></tt>
is not persisted to the database, but merely used as a convenience for
logging handlers in the case where the knowledge about the context in which
the event was created is important.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">djangotailoring.tracking.models</span></tt></a><ul>
<li><a class="reference internal" href="#models">Models</a></li>
<li><a class="reference internal" href="#events-and-logging">Events and Logging</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter"><tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">djangotailoring.tracking</span></tt></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="eventnames.html"
                        title="next chapter"><tt class="docutils literal docutils literal docutils literal"><span class="pre">djangotailoring.tracking.eventnames</span></tt></a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/apps/djangotailoring.tracking/models.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="eventnames.html" title="djangotailoring.tracking.eventnames"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="djangotailoring.tracking"
             >previous</a> |</li>
        <li><a href="../../index.html">djangotailoring v0.5 documentation</a> &raquo;</li>
          <li><a href="../index.html" >The <tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">djangotailoring</span></tt> Applications</a> &raquo;</li>
          <li><a href="index.html" ><tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">djangotailoring.tracking</span></tt></a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Dennis O’Reilly.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>